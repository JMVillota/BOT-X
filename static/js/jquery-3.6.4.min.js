function sessionExpired() {
    alert('La sesi칩n ha expirado. Por favor, ingrese de nuevo.');
    window.location.href = '/login';
}

var sessionTimeout = null;

function resetSessionTimeout() {
    // Cancelar el tiempo de espera actual, si hay uno
    if (sessionTimeout) {
        clearTimeout(sessionTimeout);
    }

    // Establecer un nuevo tiempo de espera
    var expiryAge = parseInt(sessionStorage.getItem('expiry_age')) || 0;
    sessionTimeout = setTimeout(sessionExpired, expiryAge * 1000);
}

// Cuando se carga la p치gina, establecer el tiempo de espera
resetSessionTimeout();

// Cuando la p치gina est치 inactiva, reiniciar el tiempo de espera
document.addEventListener('visibilitychange', function() {
    if (!document.hidden) {
        resetSessionTimeout();
    }
});